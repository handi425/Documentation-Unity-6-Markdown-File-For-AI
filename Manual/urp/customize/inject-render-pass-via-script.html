<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: 'en-us', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Inject a render pass via scripting in URP</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<meta property="relative-path-to-manual" content="../../">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../../../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../../../StaticFilesManual/images/favicons/apple-touch-icon.png">
<link rel="canonical" href="https://docs.unity3d.com/6000.0/Documentation/Manual/urp/customize/inject-render-pass-via-script.html">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../../../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../../../StaticFilesManual/js/jquery.js?ts=20250114"></script><script type="text/javascript" src="../../../StaticFilesManual/js/core.js?ts=20250114"></script><script type="text/javascript" src="../../docdata/toc.js?ts=20250114"></script><script type="text/javascript" src="../../docdata/global_toc.js?ts=20250114"></script><link rel="stylesheet" type="text/css" href="../../../StaticFilesManual/css/core.css?ts=20250114">
<link rel="stylesheet" href="../../../StaticFilesManual/css/prism.css">
<script src="../../../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../../../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../../../StaticFilesManual/css/mobileoptimisation.css">
<script src="../../../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="../../30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>Unity 6</b> (6000.0)
                                <div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/urp/customize/inject-render-pass-via-script.html">English</a></li>
<li><a href="/cn/current/Manual/urp/customize/inject-render-pass-via-script.html">中文</a></li>
<li><a href="/ja/current/Manual/urp/customize/inject-render-pass-via-script.html">日本語</a></li>
<li><a href="/kr/current/Manual/urp/customize/inject-render-pass-via-script.html">한국어</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: Unity 6</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/urp/customize/inject-render-pass-via-script.html">English</a></li>
<li><a href="/cn/current/Manual/urp/customize/inject-render-pass-via-script.html">中文</a></li>
<li><a href="/ja/current/Manual/urp/customize/inject-render-pass-via-script.html">日本語</a></li>
<li><a href="/kr/current/Manual/urp/customize/inject-render-pass-via-script.html">한국어</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="../../rendering-and-post-processing.html">Rendering</a></li>
<li><a href="../../render-pipelines.html">Render pipelines</a></li>
<li><a href="../../universal-render-pipeline.html">Using the Universal Render Pipeline</a></li>
<li><a href="../../urp/customizing-urp.html">Custom rendering and post-processing in URP</a></li>
<li><a href="../../urp/inject-a-render-pass.html">Adding a Scriptable Render Pass to the frame rendering loop in URP</a></li>
<li>Inject a render pass via scripting in URP</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="../../urp/renderer-features/scriptable-renderer-features/scriptable-renderer-feature-reference.html"></a></span><div class="tip">Scriptable Renderer Feature API reference for URP</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="../../urp/customize/custom-pass-injection-points.html"></a></span><div class="tip">Injection points reference for URP</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Inject a render pass via scripting in URP</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Unity raises a <a href="https://docs.unity3d.com/ScriptReference/Rendering.RenderPipelineManager-beginCameraRendering.html">beginCameraRendering</a> event before it renders each active <span class="tooltip"><strong>Camera</strong><span class="tooltiptext">A component which creates an image of a particular viewpoint in your scene. The output is either drawn to the screen or captured as a texture. <a class="tooltipMoreInfoLink" href="../../CamerasOverview.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../../Glossary.html#Camera">Glossary</a></span></span></span> in every frame. If a Camera is inactive (for example, if the <strong>Camera</strong> component checkbox is cleared on a Camera GameObject), Unity does not raise a <code>beginCameraRendering</code> event for this Camera.</p>

<p>When you subscribe a method to this event, you can execute custom logic before Unity renders the Camera. Examples of custom logic include rendering extra Cameras to <span class="tooltip"><strong>Render Textures</strong><span class="tooltiptext">A special type of Texture that is created and updated at runtime. To use them, first create a new Render Texture and designate one of your Cameras to render into it. Then you can use the Render Texture in a Material just like a regular Texture. <a class="tooltipMoreInfoLink" href="../../class-RenderTexture.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../../Glossary.html#RenderTexture">Glossary</a></span></span></span>, and using those Textures for effects like planar reflections or surveillance camera views.</p>

<p>Other events in the <a href="https://docs.unity3d.com/ScriptReference/Rendering.RenderPipelineManager.html">RenderPipelineManager</a> class provide more ways to customize URP. You can also use the principles described in this article with those events.</p>

<h2>Use the RenderPipelineManager API</h2>

<ol>
<li><p>Subscribe a method to one of the events in the <a href="https://docs.unity3d.com/ScriptReference/Rendering.RenderPipelineManager.html">RenderPipelineManager</a> class.</p></li>
<li><p>In the subscribed method, use the <code>EnqueuePass</code> method of a <code>ScriptableRenderer</code> instance to inject a custom render pass into the URP frame rendering.</p></li>
</ol>

<p>For information about writing a render pass, refer to <a href="../render-graph-write-render-pass.html">Write a render pass using the render graph system</a>.</p>

<p>Example code:</p>

<pre><code class="C#">public class EnqueuePass : MonoBehaviour
{
    [SerializeField] private BlurSettings settings;    
    private BlurRenderPass blurRenderPass;

    private void OnEnable()
    {
        ...
        blurRenderPass = new BlurRenderPass(settings);
        // Subscribe the OnBeginCamera method to the beginCameraRendering event.
        RenderPipelineManager.beginCameraRendering += OnBeginCamera;
    }

    private void OnDisable()
    {
        RenderPipelineManager.beginCameraRendering -= OnBeginCamera;
        blurRenderPass.Dispose();
        ...
    }

    private void OnBeginCamera(ScriptableRenderContext context, Camera cam)
    {
        ...
        // Use the EnqueuePass method to inject a custom render pass
        cam.GetUniversalAdditionalCameraData()
            .scriptableRenderer.EnqueuePass(blurRenderPass);
    }
}
</code></pre>

<h2>Example</h2>

<p>This example demonstrates how to subscribe a method to the <code>beginCameraRendering</code> event.</p>

<p>To follow the steps in this example, create a <a href="../creating-a-new-project-with-urp.html">new Unity project using the <strong>Universal Project Template</strong></a>
</p>

<ol>
<li><p>In the <span class="tooltip"><strong>scene</strong><span class="tooltiptext">A Scene contains the environments and menus of your game. Think of each unique Scene file as a unique level. In each Scene, you place your environments, obstacles, and decorations, essentially designing and building your game in pieces. <a class="tooltipMoreInfoLink" href="../../CreatingScenes.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../../Glossary.html#Scene">Glossary</a></span></span></span>, create a Cube. Name it Example Cube.</p></li>
<li><p>In your Project, create a C# script. Call it <code>URPCallbackExample</code>.</p></li>
<li>
<p>Copy and paste the following code into the script.
```C#
using UnityEngine;
using UnityEngine.Rendering;</p>

<p>public class URPCallbackExample : MonoBehaviour
{
 // Unity calls this method automatically when it enables this component
 private void OnEnable()
 {
 // Add WriteLogMessage as a delegate of the RenderPipelineManager.beginCameraRendering event
 RenderPipelineManager.beginCameraRendering += WriteLogMessage;
 }</p>

<pre><code>// Unity calls this method automatically when it disables this component
private void OnDisable()
{
    // Remove WriteLogMessage as a delegate of the  RenderPipelineManager.beginCameraRendering event
    RenderPipelineManager.beginCameraRendering -= WriteLogMessage;
}

// When this method is a delegate of RenderPipeline.beginCameraRendering event, Unity calls this method every time it raises the beginCameraRendering event
void WriteLogMessage(ScriptableRenderContext context, Camera camera)
{
    // Write text to the console
    Debug.Log($&quot;Beginning rendering the camera: {camera.name}&quot;);
}
</code></pre>

<p>}
``<code>
&gt; **Note**: When you subscribe to an event, your handler method (in this example,</code>WriteLogMessage<code>) must accept the parameters defined in the event delegate. In this example, the event delegate is</code>RenderPipeline.BeginCameraRendering<code>, which expects the following parameters:</code>&lt;ScriptableRenderContext, Camera&gt;`.</p>
</li>
<li><p>Attach the <code>URPCallbackExample</code> script to Example Cube.</p></li>
<li>
<p>Select <strong>Play</strong>. Unity prints the message from the script in the <span class="tooltip"><strong>Console window</strong><span class="tooltiptext">A Unity Editor window that shows errors, warnings and other messages generated by Unity, or your own scripts. <a class="tooltipMoreInfoLink" href="../../Console.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../../Glossary.html#Consolewindow">Glossary</a></span></span></span> each time Unity raises the <code>beginCameraRendering</code> event.</p>

<figure>
<img src="../../../uploads/urp/customizing-urp/log-message-in-console.png" alt="Unity prints log message in console.">
<figcaption>Unity prints log message in console.</figcaption>
</figure>
</li>
<li>
<p>To raise a call to the <code>OnDisable()</code> method: In the Play mode, select Example Cube and clear the checkbox next to the script component title. Unity unsubscribes <code>WriteLogMessage</code> from the <code>RenderPipelineManager.beginCameraRendering</code> event and stops printing the message in the Console window.</p>

<figure>
<img src="../../../uploads/urp/customizing-urp/deactivate-script-component.png" alt="Deactivate the script component. Clear the checkbox next to the script component title.">
<figcaption>Deactivate the script component. Clear the checkbox next to the script component title.</figcaption>
</figure>
</li>
</ol>

<h2>Use a function in a MonoBehaviour</h2>

<p>You can inject a Scriptable Render Pass into a scene via any <span class="tooltip"><strong>GameObject</strong><span class="tooltiptext">The fundamental object in Unity scenes, which can represent characters, props, scenery, cameras, waypoints, and more. A GameObject’s functionality is defined by the Components attached to it. <a class="tooltipMoreInfoLink" href="../../class-GameObject.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../../Glossary.html#GameObject">Glossary</a></span></span></span> present in the scene. This gives you more precise control over when the render pass is active. But this means you must have a GameObject inject the render pass at every point you want to use it. As a result, it’s better to inject any common effects in your project via a Scriptable Renderer Feature instead.</p>

<p>When you inject a Scriptable Render Pass into a scene via any GameObject, it’s important to consider how URP uses this script. The first Camera to render the Scriptable Render Pass uses up the render pass, and is the only Camera the render pass applies to. Any Cameras that the Scriptable Render Pass would apply that render after the first Camera don’t render the effect.</p>

<p>For example, if you have two Cameras and you add the Scriptable Render Pass in the <code>Update</code> method, only the first Camera to render uses the Scriptable Render Pass effect. This is because the first camera uses up the instance of the effect. As the second Camera renders before the next call of the <code>Update</code> method, a second instance of the Scriptable Render Pass isn’t available to use. As a result, the second Camera doesn’t apply the effect from the Scriptable Render Pass to its output.</p>

<h2>Additional resources</h2>

<p><a href="../render-graph-write-render-pass.html">Write a render pass using the render graph system</a></p>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="../../urp/renderer-features/scriptable-renderer-features/scriptable-renderer-feature-reference.html"></a></span><div class="tip">Scriptable Renderer Feature API reference for URP</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="../../urp/customize/custom-pass-injection-points.html"></a></span><div class="tip">Injection points reference for URP</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright ©2005-2025 Unity Technologies. All rights reserved. Built from 6000.0.36f1 (02b661dc617c). Built on: 2025-01-14.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a><a href="https://unity.com/legal">Legal</a><a href="https://unity.com/legal/privacy-policy">Privacy Policy</a><a href="https://unity.com/legal/cookie-policy">Cookies</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">Do Not Sell or Share My Personal Information</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
